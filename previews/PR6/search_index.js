var documenterSearchIndex = {"docs":
[{"location":"","page":"Home","title":"Home","text":"CurrentModule = AdmissionsSimulation","category":"page"},{"location":"#AdmissionsSimulation","page":"Home","title":"AdmissionsSimulation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"AdmissionsSimulation is designed to simulate outcomes of graduate admissions, with the intent of helping make decisions about both initial offers and wait-list offers.","category":"page"},{"location":"","page":"Home","title":"Home","text":"This package focuses on those students to whom offers of admission have been extended, and uses past applicants as proxies for current applicants to make predictions about whether they'll accept the offer. Because two \"similar\" students might end up making different final decisions, the recommended practice is to identify many different potential proxies and use the distribution of their decisions to simulate future outcomes.","category":"page"},{"location":"","page":"Home","title":"Home","text":"The inputs to this process are:","category":"page"},{"location":"","page":"Home","title":"Home","text":"records on previous applicants\ncriteria for deciding the similarity between two students, resulting in a matching function computing a value between 0 (no match) and 1 (a perfect match).","category":"page"},{"location":"#Applicant-records","page":"Home","title":"Applicant records","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Records on previous applicants are in two forms: very general information is stored in program_history, a dictionary recording just a few bits of information for each program. For example:","category":"page"},{"location":"","page":"Home","title":"Home","text":"    program_history = Dict(ProgramKey(season=2021, program=\"NS\") => ProgramData(slots=15, napplicants=302, firstofferdate=Date(\"2021-01-13\"), lastdecisiondate=Date(\"2021-04-15\")),\n                           ProgramKey(season=2021, program=\"CB\") => ProgramData(slots=5,  napplicants=160, firstofferdate=Date(\"2021-01-6\"),  lastdecisiondate=Date(\"2021-04-15\")))\n","category":"page"},{"location":"","page":"Home","title":"Home","text":"suffices to record aggregate data for two programs, \"NS\" and \"CB\", during the 2021 season (corresponding to a decision deadline of April 15, 2021). This records the target number of matriculants (slots), the total number of applications received, the date of the very first offers extended, and the date on which a decision was due.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Valid choices for program names are listed in AdmissionsSimulation.program_lookups; internally the code always uses the abbreviation, but the","category":"page"},{"location":"","page":"Home","title":"Home","text":"Detailed applicant records only need to include applicants to whom an offer of admission was extended. The requirements are described by NormalizedApplicant(applicant; program_history).","category":"page"},{"location":"","page":"Home","title":"Home","text":"You can load both the program history and data on applicants using read_program_history and read_applicant_data.","category":"page"},{"location":"#Match-criteria","page":"Home","title":"Match criteria","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Applicants 1 and 2 are matched by the following function:","category":"page"},{"location":"","page":"Home","title":"Home","text":"expleft( - frac(r_1 - r_2)^22 sigma_r^2 - frac(t_1 - t_2)^22 sigma_t^2right)","category":"page"},{"location":"","page":"Home","title":"Home","text":"where r refers to the normalized ranks and t to the normalized offer date. The sigma parameters measure the standard deviation, i.e., the tolerance for mismatch (larger sigma are more tolerant of mismatch). Smaller sigma_r increases the importance of choosing applicants of similar rank, and would indicate that there may be a strong rank-dependent element to recruitment (e.g., \"more competitive applicants are harder to recruit\"). Smaller sigma_t increases the importance of the timing of the offer, and would indicate that wait-list offers should be treated quite differently from initial offers. The units of both sigma parameters are those of the NormalizedApplicants, i.e., with values ranging between 0 and 1. For example, setting sigma_t = 02 would, in essence, break the decision period (typically mid-January to April 15th) into roughly 5 periods, and match primarily against applicants who were extended offers during the same period. Note that the applicant ranks will typically be quite heavily weighted to low values (e.g., a program that only accepts the top 20% of applicants will only exhibit ranks between 0.0 and 0.2), and as a consequence sigma_r must be smaller than this span to have large effect.","category":"page"},{"location":"","page":"Home","title":"Home","text":"This fundamental matching function is augmented by options to:","category":"page"},{"location":"","page":"Home","title":"Home","text":"require that the matching applicants are from the same program\nexclude past applicants who had already rendered their decision by this point in the admissions season. (The latter is intended to support modeling the currently-undecided applicants solely in terms of prior applicants who were also undecided at this point.)","category":"page"},{"location":"","page":"Home","title":"Home","text":"See match_function for specific details.","category":"page"},{"location":"#Analysis-and-simulations","page":"Home","title":"Analysis and simulations","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Once you've entered student records and defined a matching function, then for each outstanding offer you can compute the match likelihood of previous applicants using match_likelihood. The sum of the returned list is a rough measure of the \"number\" of prior applicants deemed to be a good match for the applicant you are modeling; if this value is small, your criteria for matching may be too stringent. Conversely, if this value is approximately equal to the total number of prior applicants, you're essentially treating all students as equivalent (and matching all of them).","category":"page"},{"location":"","page":"Home","title":"Home","text":"Once the likelihood is computed, matriculation_probability estimates the probability that the given applicant will accept an offer. select_applicant allows you to randomly sample these by likelihood, and serves as the basis for running simulations about outcomes.","category":"page"},{"location":"#API-reference","page":"Home","title":"API reference","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Modules = [AdmissionsSimulation]","category":"page"},{"location":"#AdmissionsSimulation.NormalizedApplicant","page":"Home","title":"AdmissionsSimulation.NormalizedApplicant","text":"NormalizedApplicant holds normalized data about an applicant who received, or may receive, an offer of admission.\n\nprogram::String\nThe abbreviation of the program the applicant was admitted to. AdmissionsSimulation.program_lookups contains the list of valid choices, together with their full names.\n\nseason::Int16\nThe year in which the applicant's decision was due. E.g., if the last date was April 15th, 2021, this would be 2021.\n\nnormrank::Union{Missing, Float32}\nNormalized rank of the applicant: the top applicant has a rank near 0 (e.g., 1/302), and the bottom applicant has rank 1. The rank is computed among all applicants, not just those who received an offer of admission.\n\nnormofferdate::Float32\nNormalized date at which the applicant received the offer of admission. 0 = date of first offer of season, 1 = decision date (typically April 15th). Candidates who were admitted in the first round would have a value of 0 (or near it), whereas candidates who were on the wait list and eventually received offers would have a larger value for this parameter.\n\nnormdecidedate::Union{Missing, Float32}\nNormalized date at which the applicant replied with a decision. This uses the same scale as normofferdate. Consequently, an applicant who decided almost immediately would have a normdecidedate shortly after the normofferdate, whereas a candidate who decided on the final day will have a value of 1.0.\nUse missing if the applicant has not yet decided.\n\naccept::Union{Missing, Bool}\ntrue if the applicant accepted our offer, false if not. Use missing if the applicant has not yet decided.\n\n\n\n\n\n","category":"type"},{"location":"#AdmissionsSimulation.NormalizedApplicant-Tuple{Any}","page":"Home","title":"AdmissionsSimulation.NormalizedApplicant","text":"normapp = NormalizedApplicant(applicant; program_history)\n\nConvert applicant from \"natural\" units to normalized units. applicant may be anything having the following fields:\n\nprogram: a string encoding the program\nrank::Int: the rank of the applicant compared to other applicants to the same program in the same season.  Use 1 for the top candidate; the bottom candidate should have rank equal to the number of applications received.\nofferdate: the date on which an offer was (or might be) extended. E.g., Date(\"2021-01-13\").\ndecidedate: the date on which the candidate replied with a verdict, or missing\naccept: true if the candidate accepted our offer, false if it was turned down, missing if it is unknown.\n\nprogram_history should be a dictionary compatible with program_data.\n\n\n\n\n\n","category":"method"},{"location":"#AdmissionsSimulation.ProgramData","page":"Home","title":"AdmissionsSimulation.ProgramData","text":"ProgramData stores summary data for a particular program and admissions season.\n\ntarget_raw::Int64\nThe target number of matriculants, based on applicant pool and training capacity.\n\ntarget_corrected::Int64\nThe actual target, correcting for over- or under-recruitment in previous years.\n\nnmatriculants::Union{Missing, Int64}\nThe number of matriculated students, or missing.\n\nnapplicants::Int64\nThe number of applicants received.\n\nfirstofferdate::Dates.Date\nThe date on which the first offer was made, essentially the beginning of the decision period for the applicants.\n\nlastdecisiondate::Dates.Date\nThe date on which all applicants must have rendered a decision, or the offer expires.\n\n\n\n\n\n","category":"type"},{"location":"#AdmissionsSimulation.ProgramKey","page":"Home","title":"AdmissionsSimulation.ProgramKey","text":"ProgramKey stores the program name and admissions season.\n\nprogram::String\nThe program abbreviation. AdmissionsSimulation.program_lookups contains the list of valid choices, together will full names.\n\nseason::Int16\nThe enrollment year. This is the year in which the applicant's decision was due. E.g., if the last date was April 15th, 2021, this would be 2021.\n\n\n\n\n\n","category":"type"},{"location":"#AdmissionsSimulation.match_function-Tuple{}","page":"Home","title":"AdmissionsSimulation.match_function","text":"fmatch = match_function(; matchprogram=false, σr=Inf32, σt=Inf32)\n\nGenerate a matching function comparing two applicants.\n\nfmatch(template::NormalizedApplicant, applicant::NormalizedApplicant, tnow::Union{Real,Missing})\n\nwill return a number between 0 and 1, with 1 indicating a perfect match. template is the applicant you wish to find a match for, and applicant is a candidate match. tnow is used to exclude applicants who had already decided by tnow.\n\nThe parameters of fmatch are determined by criteria:\n\nmatchprogram::Bool: if true, only students from the same program are considered (all others return 0.0)\nσr: the standard deviation of normrank (use Inf or missing if you don't want to consider rank in matches)\nσt: the standard deviation of normofferdate (use Inf or missing if you don't want to consider offer date in matches)\n\n\n\n\n\n","category":"method"},{"location":"#AdmissionsSimulation.match_likelihood-Tuple{Function, AbstractVector{NormalizedApplicant}, NormalizedApplicant, Dates.Date}","page":"Home","title":"AdmissionsSimulation.match_likelihood","text":"likelihood = match_likelihood(fmatch, past_applicants, applicant, tnow::Date; program_history)\n\nUse this format if supplying tnow in Date format.\n\n\n\n\n\n","category":"method"},{"location":"#AdmissionsSimulation.match_likelihood-Tuple{Function, AbstractVector{NormalizedApplicant}, NormalizedApplicant, Real}","page":"Home","title":"AdmissionsSimulation.match_likelihood","text":"likelihood = match_likelihood(fmatch::Function,\n                              past_applicants::AbstractVector{NormalizedApplicant},\n                              applicant::NormalizedApplicant,\n                              tnow::Real)\n\nCompute the likelihood among past_applicants for matching applicant. tnow is the current date in normalized form (see normdate), and is used to exclude previous applicants who had already made a decision by tnow.\n\nSee also: match_function, select_applicant.\n\n\n\n\n\n","category":"method"},{"location":"#AdmissionsSimulation.matriculation_probability-Tuple{Any, Any}","page":"Home","title":"AdmissionsSimulation.matriculation_probability","text":"p = matriculation_probability(likelihood, past_applicants)\n\nCompute the probability that applicants weighted by likelihood would matriculate into the program, based on the choices made by past_applicants.\n\nlikelihood can be computed by match_likelihood.\n\n\n\n\n\n","category":"method"},{"location":"#AdmissionsSimulation.normdate-Tuple{Dates.Date, Any}","page":"Home","title":"AdmissionsSimulation.normdate","text":"normdate(t::Date, pdata)\n\nExpress t as a fraction of the gap between the first offer date and last decision date as stored in pdata (see program_data).\n\n\n\n\n\n","category":"method"},{"location":"#AdmissionsSimulation.program_data-Tuple{Any, Any}","page":"Home","title":"AdmissionsSimulation.program_data","text":"pdata = program_data(applicant, program_history)\n\nReturn data for the program and admission season matching applicant. One accepted format is the following:\n\nprogram_history = Dict(ProgramKey(season=2021, program=\"NS\") => ProgramData(slots=15, napplicants=302, firstofferdate=Date(\"2021-01-13\"), lastdecisiondate=Date(\"2021-04-15\")),\n                       ProgramKey(season=2021, program=\"CB\") => ProgramData(slots=5,  napplicants=160, firstofferdate=Date(\"2021-01-6\"),  lastdecisiondate=Date(\"2021-04-15\")),\n)\n\n\n\n\n\n","category":"method"},{"location":"#AdmissionsSimulation.read_applicant_data-Tuple{AbstractString}","page":"Home","title":"AdmissionsSimulation.read_applicant_data","text":"past_applicants = read_applicant_data(filename; program_history)\npast_applicants = read_applicant_data(f, filename; program_history)\n\nRead past applicant data from a file. See \"/home/runner/work/AdmissionsSimulation.jl/AdmissionsSimulation.jl/src/test/data/applicantdata.csv\" for an example of the format.\n\nThe second form allows you to transform each row with f(row) before extracting the data. This allows you to handle input formats that differ from the default.\n\n\n\n\n\n","category":"method"},{"location":"#AdmissionsSimulation.read_program_history-Tuple{Function, AbstractString}","page":"Home","title":"AdmissionsSimulation.read_program_history","text":"program_history = read_program_history(filename)\nprogram_history = read_program_history(f, filename)\n\nRead program history from a file. See \"/home/runner/work/AdmissionsSimulation.jl/AdmissionsSimulation.jl/src/test/data/programdata.csv\" for an example of the format.\n\nThe second form allows you to transform each row with f(row) before extracting the data. This allows you to handle input formats that differ from the default.\n\n\n\n\n\n","category":"method"},{"location":"#AdmissionsSimulation.run_simulation-Tuple{AbstractVector{var\"#s6\"} where var\"#s6\"<:Real, Int64}","page":"Home","title":"AdmissionsSimulation.run_simulation","text":"nmatriculants = run_simulation(pmatric, nsim::Int)\n\nGiven a list of candidates with probability of matriculation pmatric, perform nsim simulations of their admission decisions and compute the total number of matriculants in each simulation.\n\n\n\n\n\n","category":"method"},{"location":"#AdmissionsSimulation.select_applicant-Tuple{Any, Any}","page":"Home","title":"AdmissionsSimulation.select_applicant","text":"past_applicant = select_applicant(clikelihood, past_applicants)\n\nSelect a previous applicant from among past_applicants, using the cumulative likelihood clikelihood. This can be computed as cumsum(likelihood), where likelihood is computed by match_likelihood.\n\n\n\n\n\n","category":"method"}]
}
