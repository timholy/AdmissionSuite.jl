<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Configuration · AdmissionSuite.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://timholy.github.io/AdmissionSuite.jl/configuration/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">AdmissionSuite.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../installation/">Installation</a></li><li class="is-active"><a class="tocitem" href>Configuration</a><ul class="internal"><li><a class="tocitem" href="#progconfig"><span>Configuring your programs</span></a></li><li><a class="tocitem" href="#dbconfig"><span>Configuring database access</span></a></li><li><a class="tocitem" href="#tblconfig"><span>Configuring your data tables</span></a></li><li><a class="tocitem" href="#webappconfig"><span>Launching the web application automatically</span></a></li></ul></li><li><a class="tocitem" href="../web/">Web application</a></li><li><span class="tocitem">How AdmissionSuite works</span><ul><li><a class="tocitem" href="../simulation/">Offers</a></li><li><a class="tocitem" href="../targets/">Targets</a></li></ul></li><li><a class="tocitem" href="../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Configuration</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Configuration</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/timholy/AdmissionSuite.jl/blob/master/docs/src/configuration.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="AdmitConfiguration"><a class="docs-heading-anchor" href="#AdmitConfiguration">AdmitConfiguration</a><a id="AdmitConfiguration-1"></a><a class="docs-heading-anchor-permalink" href="#AdmitConfiguration" title="Permalink"></a></h1><p>Configuring AdmissionSuite is more complex than for typical packages (most of which require no configuration at all). To work seamlessly with your admissions system, it must</p><ul><li><a href="#progconfig">know the names and some information about the programs for which you are offering admissions</a></li><li>be able to <a href="#dbconfig">connect to your database</a> of applicants and run queries</li><li>be able to <a href="#tblconfig">parse the tables</a> in whatever format your institution has chosen for representing the data (<em>this step will likely require you to write a few lines of Julia code</em>)</li><li>if your interest is in the web application, you may want to configure your system so <a href="#webappconfig">the web application gets launched by starting Julia</a></li></ul><p>Each of these requires custom configuration. If these seem daunting, seek help from a local Julia user or contact Tim Holy (WashU) for assistance.</p><h2 id="progconfig"><a class="docs-heading-anchor" href="#progconfig">Configuring your programs</a><a id="progconfig-1"></a><a class="docs-heading-anchor-permalink" href="#progconfig" title="Permalink"></a></h2><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>This step only needs to be performed once when you first use <code>Admit</code> or <code>AdmissionTargets</code>. If you restructure your programs, you&#39;ll want to reconfigure to match the current programs.</p></div></div><p>Using a spreadsheet program, create a table that, at a minimum, has a single column called <code>Abbreviation</code> and more comprehensively may have some or all of the following columns:</p><p><img src="../assets/programs.png" alt="programs"/></p><p>The <code>Abbreviation</code> column must list all your programs. This should be whatever &quot;tag&quot; you like to use to refer to each program, and should not be too long as it will need to fit in dropdown boxes in <code>Admit</code>. Full names can optionally be listed in <code>ProgramName</code>, and indeed this must be set if your database stores records by full program names. For the remaining columns, see the documentation on <a href="../api/#AdmitConfiguration.set_programs"><code>set_programs</code></a>.  If you need a complete example, see the file <code>examples/WashU.csv</code> within this package repository.</p><p>Once done, save the table in <a href="https://en.wikipedia.org/wiki/Comma-separated_values">Comma-separated value (CSV) format</a> using your spreadsheet program&#39;s &quot;Save as&quot; or &quot;Export&quot; functionality. Then, in Julia execute the following set of statements:</p><pre><code class="language-julia hljs">julia&gt; using AdmissionSuite, AdmissionSuite.AdmitConfiguration

julia&gt; set_programs()</code></pre><p>There may be a brief delay (Julia code compiles when you first run it, and this can sometimes take some time), after which it will prompt you to find and select the CSV file.</p><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>Alternatively, you can pass the file name as a string, <code>set_programs(&quot;/path/to/file.csv&quot;)</code>.  Note that on Windows, <code>\</code> needs to be treated specially in strings, but you can write file paths using &quot;raw strings,&quot; e.g., <code>set_programs(raw&quot;C:\Documents\Admissions\AdmissionSuite\program_configuration.csv&quot;))</code>.</p></div></div><p>If it returns without error, the process worked. You are now done configuring your programs.</p><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>You can check that it worked by typing <code>program_abbreviations</code> at the <code>julia&gt;</code> prompt: you should see a list of the programs you just defined.</p></div></div><h2 id="dbconfig"><a class="docs-heading-anchor" href="#dbconfig">Configuring database access</a><a id="dbconfig-1"></a><a class="docs-heading-anchor-permalink" href="#dbconfig" title="Permalink"></a></h2><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>This step only needs to be performed once to establish connectivity to your SQL database. If you change your server URL or other features, you may need to redo these steps.</p></div></div><p><code>Admit</code> can directly query applicant records through a SQL interface. This has been tested on Windows, but may work with small modifications on Mac and Linux.</p><p>To use this feature, several configuration steps are required. Most of these may not be necessary if you are running Admit from a machine that can already access your database.</p><h3 id="conncheck"><a class="docs-heading-anchor" href="#conncheck">If your machine already has access to the database</a><a id="conncheck-1"></a><a class="docs-heading-anchor-permalink" href="#conncheck" title="Permalink"></a></h3><p>If your system can already access the SQL database via a &quot;Data Source Name&quot; (DSN), just check whether you have access from Julia:</p><pre><code class="nohighlight hljs">julia&gt; using AdmissionSuite, AdmissionSuite.AdmitConfiguration

julia&gt; conn = connectdsn(&lt;dsnname&gt;)</code></pre><p>where you replace <code>&lt;dsnname&gt;</code> with the name of your DSN (for example, <code>connectdsn(&quot;DBBS&quot;)</code> if you&#39;ve created a DSN called &quot;DBBS&quot;). The syntax above is applicable if your DSN connects via Active Directory (a &quot;trusted connection&quot; in SQL parlance); alternatively, use</p><pre><code class="nohighlight hljs">julia&gt; conn = connectdsn(&lt;dsnname&gt;; usepasswd=true)</code></pre><p>and you will be prompted for your user name and password before attempting to connect to the SQL server.</p><p>If this returns without an obvious error, all is well and you can skip below to the section on <a href="#automatic">setting up automatic connections</a>.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>While it&#39;s possible to store your username and password in your DSN configuration, this is a <a href="https://www.microsoft.com/en-us/microsoft-365/blog/2011/04/08/power-tip-improve-the-security-of-database-connections/">security hole</a> and not recommended.</p></div></div><p>If you do not already have access via a DSN, the next sections describe how to configure it.</p><h3 id="driver"><a class="docs-heading-anchor" href="#driver">Installing an ODBC driver</a><a id="driver-1"></a><a class="docs-heading-anchor-permalink" href="#driver" title="Permalink"></a></h3><p>If necessary, install the <a href="https://docs.microsoft.com/en-us/sql/connect/odbc/download-odbc-driver-for-sql-server">SQL Server ODBC driver</a>.</p><h4 id="Windows"><a class="docs-heading-anchor" href="#Windows">Windows</a><a id="Windows-1"></a><a class="docs-heading-anchor-permalink" href="#Windows" title="Permalink"></a></h4><h4 id="Other-platforms"><a class="docs-heading-anchor" href="#Other-platforms">Other platforms</a><a id="Other-platforms-1"></a><a class="docs-heading-anchor-permalink" href="#Other-platforms" title="Permalink"></a></h4><ul><li>From the <a href="#driver">link above</a>, download the MSODBC package for your platform and install it</li><li>Find the library file on your system. At least on Linux, the file will contain &quot;libmsodbcsql&quot; in the name. Library files have <code>dll</code>, <code>dylib</code>, or <code>so</code> in their extension.</li><li>Start Julia and execute the following:</li></ul><pre><code class="language-julia hljs">julia&gt; using AdmissionSuite

julia&gt; libpath = &quot;/opt/microsoft/msodbcsql17/lib64/libmsodbcsql-17.4.so.1.1&quot;

julia&gt; ODBC.adddriver(&quot;MSODBC&quot;, libpath)</code></pre><p>where <code>libpath</code> should be the path to the library on your own system.</p><p>Now <code>&quot;MSODBC&quot;</code> is a shortcut for the actual driver library.</p><h3 id="Configuring-the-Data-Source-(DSN)"><a class="docs-heading-anchor" href="#Configuring-the-Data-Source-(DSN)">Configuring the Data Source (DSN)</a><a id="Configuring-the-Data-Source-(DSN)-1"></a><a class="docs-heading-anchor-permalink" href="#Configuring-the-Data-Source-(DSN)" title="Permalink"></a></h3><h4 id="From-within-the-ODBC-configuration-utility-(Windows)"><a class="docs-heading-anchor" href="#From-within-the-ODBC-configuration-utility-(Windows)">From within the ODBC configuration utility (Windows)</a><a id="From-within-the-ODBC-configuration-utility-(Windows)-1"></a><a class="docs-heading-anchor-permalink" href="#From-within-the-ODBC-configuration-utility-(Windows)" title="Permalink"></a></h4><h4 id="From-within-Julia"><a class="docs-heading-anchor" href="#From-within-Julia">From within Julia</a><a id="From-within-Julia-1"></a><a class="docs-heading-anchor-permalink" href="#From-within-Julia" title="Permalink"></a></h4><p>This approach can be used on non-Windows platforms. After <a href="#driver">installing the driver</a>, execute</p><pre><code class="language-julia hljs">julia&gt; using AdmissionSuite    # not needed if you&#39;ve already done this in the same session

julia&gt; ODBC.adddsn(&lt;dsnname&gt;, &quot;MSODBC&quot;; SERVER=&lt;SQL server URL&gt;, DATABASE=&lt;database name&gt;)</code></pre><p>The items between <code>&lt;&gt;</code> are items you need to fill in. For example, for WashU&#39;s DBBS the line looks something like this:</p><pre><code class="language-julia hljs">julia&gt; ODBC.adddsn(&quot;DBBS&quot;, &quot;MSODBC&quot;; SERVER=&quot;someurl.wustl.edu&quot;, DATABASE=&quot;DBBS&quot;)</code></pre><p>Now, <code>&lt;dnsname&gt;</code> (<code>&quot;DBBS&quot;</code> in the example above) is a shortcut for the DSN.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>Putting your user name and password into the DSN configuration is a <a href="https://www.microsoft.com/en-us/microsoft-365/blog/2011/04/08/power-tip-improve-the-security-of-database-connections/">security hole</a> and not recommended.</p></div></div><h4 id="Checking-your-setup"><a class="docs-heading-anchor" href="#Checking-your-setup">Checking your setup</a><a id="Checking-your-setup-1"></a><a class="docs-heading-anchor-permalink" href="#Checking-your-setup" title="Permalink"></a></h4><p>Check your connection described <a href="#conncheck">above</a>.</p><h3 id="automatic"><a class="docs-heading-anchor" href="#automatic">Making your connection automatic</a><a id="automatic-1"></a><a class="docs-heading-anchor-permalink" href="#automatic" title="Permalink"></a></h3><p>Once you have a DSN, use</p><pre><code class="language-julia hljs">julia&gt; using AdmissionSuite, AdmitConfiguration

julia&gt; set_dsn(&lt;dnsname&gt;)</code></pre><p>Henceforth <code>Admit</code> will connect to the database as needed, all you have to do is respond to password prompts.</p><h2 id="tblconfig"><a class="docs-heading-anchor" href="#tblconfig">Configuring your data tables</a><a id="tblconfig-1"></a><a class="docs-heading-anchor-permalink" href="#tblconfig" title="Permalink"></a></h2><p>Once you can connect to the database, the final step is to configure the ability to extract information from the tables within it. Interally, AdmissionSuite converts the table into a <a href="https://dataframes.juliadata.org/stable/">DataFrame</a>, which is similar to a spreadsheet. AdmissionSuite needs to know the names of the columns from which it can extract particular pieces of information.</p><p>Extractors come in two flavors: &quot;by name&quot; and &quot;custom function&quot;. The latter are used in more complex situations where you might need to reference multiple columns in order to extract a particular item.</p><h3 id="&quot;By-name&quot;-columns"><a class="docs-heading-anchor" href="#&quot;By-name&quot;-columns">&quot;By name&quot; columns</a><a id="&quot;By-name&quot;-columns-1"></a><a class="docs-heading-anchor-permalink" href="#&quot;By-name&quot;-columns" title="Permalink"></a></h3><p>&quot;By name&quot; configuration is done with <a href="../api/#AdmitConfiguration.set_column_configuration-Tuple"><code>set_column_configuration</code></a>; see its documentation for details.</p><h3 id="&quot;Custom-function&quot;-configuration"><a class="docs-heading-anchor" href="#&quot;Custom-function&quot;-configuration">&quot;Custom function&quot; configuration</a><a id="&quot;Custom-function&quot;-configuration-1"></a><a class="docs-heading-anchor-permalink" href="#&quot;Custom-function&quot;-configuration" title="Permalink"></a></h3><p>These require that you write a few Julia functions and save them to a file. You then register these functions with <a href="../api/#AdmitConfiguration.set_local_functions-Tuple{AbstractString}"><code>set_local_functions</code></a>; see its documentation for details about which functions need to be implemented and examples of how to write them.</p><p>If this step is daunting, seek help from a local Julia user or contact Tim Holy (WashU) for assistance.</p><h3 id="Testing-your-configuration"><a class="docs-heading-anchor" href="#Testing-your-configuration">Testing your configuration</a><a id="Testing-your-configuration-1"></a><a class="docs-heading-anchor-permalink" href="#Testing-your-configuration" title="Permalink"></a></h3><p>To test your entire setup, try the following:</p><pre><code class="language-julia hljs">julia&gt; using AdmissionSuite, AdmissionSuite.AdmitConfiguration, AdmissionSuite.Admit

julia&gt; conn = connectdsn(...)    # fill in &quot;...&quot; with whatever worked to connect to your database

julia&gt; applicants, program_history = parse_database(conn);</code></pre><p>If that throws an error, something about your configuration needs fixing; the error message should hopefully provide some guidance about what is wrong.</p><p>If there is no error, check that the output looks reasonable:</p><pre><code class="nohighlight hljs">julia&gt; applicants</code></pre><p>should show a list of all applicants, past and present, available from your database.</p><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>If you database contains multiple entries for each applicant (e.g., one for each new status update), instead use <code>parse_database(conn; deduplicate=true)</code> to remove the duplicates. For this to work, you&#39;ll have to create the <a href="../api/#AdmitConfiguration.when_updated"><code>when_updated</code></a> function among your local functions.</p></div></div><p>Likewise,</p><pre><code class="language-julia hljs">julia&gt; program_history</code></pre><p>should show records of your program history.</p><h2 id="webappconfig"><a class="docs-heading-anchor" href="#webappconfig">Launching the web application automatically</a><a id="webappconfig-1"></a><a class="docs-heading-anchor-permalink" href="#webappconfig" title="Permalink"></a></h2><p>If you&#39;re configuring this for admissions-professional usage, chances are your main interest is the web application. You can configure this to launch automatically by creating a text file with contents:</p><pre><code class="nohighlight hljs">using AdmissionSuite, AdmissionSuite.AdmitConfiguration, AdmissionSuite.Admit
conn = connectdsn(...)    # fill in &quot;...&quot; with whatever worked to connect to your database
runweb(conn)              # add any needed keyword arguments like `deduplicate`</code></pre><p>Save this as <code>~/.julia/config/startup.jl</code> in the user account (<code>~</code> means &quot;user home directory&quot;, if necessary search for the <code>.julia</code> folder on your system). This will launch the web application automatically when Julia starts.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../installation/">« Installation</a><a class="docs-footer-nextpage" href="../web/">Web application »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.10 on <span class="colophon-date" title="Friday 11 February 2022 17:20">Friday 11 February 2022</span>. Using Julia version 1.6.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
